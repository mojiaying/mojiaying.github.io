<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/pages/interviewer/level2.html"><meta property="og:site_name" content="Jenny blog"><meta property="og:title" content="ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-11-29T09:53:24.000Z"><meta property="og:locale" content="en-US"><meta property="article:published_time" content="2022-11-19T00:00:00.000Z"><meta property="article:modified_time" content="2022-11-29T09:53:24.000Z"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰ | Jenny blog</title><meta name="description" content="">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.0e6d1203.css" as="style" /><link rel="stylesheet" href="/assets/style.0e6d1203.css" />
    <link rel="modulepreload" href="/assets/app.76aaae20.js"><link rel="modulepreload" href="/assets/level2.html.95572456.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/level2.html.c67b78d9.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Jenny blog"><!----><span class="site-name hide-in-pad">Jenny blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Project home"><span class="icon iconfont icon-home"></span>Project home<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title"><!---->å‰ç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/pages/BuildProject/" class="nav-link" aria-label="å·¥ç¨‹æ„å»º"><!---->å·¥ç¨‹æ„å»º<!----></a></li><li class="dropdown-item"><a href="/pages/memo/" class="nav-link" aria-label="memo"><!---->memo<!----></a></li><li class="dropdown-item"><a href="/pages/js/" class="nav-link" aria-label="js"><!---->js<!----></a></li><li class="dropdown-item"><a href="/pages/fontEnd/" class="nav-link" aria-label="å‰ç«¯"><!---->å‰ç«¯<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è€ƒè¯•ç¬”è®°"><span class="title"><!---->è€ƒè¯•ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/pages/adMath/" class="nav-link" aria-label="é«˜ç­‰æ•°å­¦"><!---->é«˜ç­‰æ•°å­¦<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/pages/interviewer/" class="nav-link sidebar-link sidebar-page" aria-label="åŸºæœ¬é—®é¢˜(éæŠ€æœ¯é—®é¢˜)"><!---->åŸºæœ¬é—®é¢˜(éæŠ€æœ¯é—®é¢˜)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/level1.html" class="nav-link sidebar-link sidebar-page" aria-label="åˆçº§é—®é¢˜ï¼ˆåŸºæœ¬ä½¿ç”¨ï¼‰"><!---->åˆçº§é—®é¢˜ï¼ˆåŸºæœ¬ä½¿ç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/pages/interviewer/level2.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰"><!---->ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/pages/interviewer/level2.html#ç»„ä»¶è®¾è®¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»„ä»¶è®¾è®¡ğŸŒŸ"><!---->ç»„ä»¶è®¾è®¡ğŸŒŸ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/pages/interviewer/level2.html#æ‰‹å†™-urlè§£æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‰‹å†™ï¼šurlè§£æ"><!---->æ‰‹å†™ï¼šurlè§£æ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/level3.html" class="nav-link sidebar-link sidebar-page" aria-label="é«˜çº§é—®é¢˜ï¼ˆç†è®ºåŸç†ï¼‰"><!---->é«˜çº§é—®é¢˜ï¼ˆç†è®ºåŸç†ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/level4.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¼–ç é¢˜"><!---->ç¼–ç é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/classify.html" class="nav-link sidebar-link sidebar-page" aria-label="100é“é¢è¯•é¢˜"><!---->100é“é¢è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/ajax.html" class="nav-link sidebar-link sidebar-page" aria-label="Ajax"><!---->Ajax<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/performanceAPI.html" class="nav-link sidebar-link sidebar-page" aria-label="Performance"><!---->Performance<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/pages/interviewer/day1.html" class="nav-link sidebar-link sidebar-page" aria-label="day1"><!---->day1<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰</h1><div class="page-info"><span class="author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">Jenny</span></span><span property="author" content="Jenny"></span></span><!----><span class="date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>November 19, 2022</span><meta property="datePublished" content="2022-11-19T00:00:00.000Z"></span><span class="category-info" aria-label="CategoryğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category1" role>interviewer</span></li></ul><meta property="articleSection" content="interviewer"></span><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 16 min</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/pages/interviewer/level2.html#ç»„ä»¶è®¾è®¡" class="router-link-active router-link-exact-active toc-link level2">ç»„ä»¶è®¾è®¡ğŸŒŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/pages/interviewer/level2.html#æ‰‹å†™-urlè§£æ" class="router-link-active router-link-exact-active toc-link level2">æ‰‹å†™ï¼šurlè§£æ</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="ä¸­çº§é—®é¢˜-å¤æ‚ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸­çº§é—®é¢˜-å¤æ‚ä½¿ç”¨" aria-hidden="true">#</a> ä¸­çº§é—®é¢˜ï¼ˆå¤æ‚ä½¿ç”¨ï¼‰</h1><ol><li>ç»§æ‰¿äº†è§£å—ï¼Ÿ</li></ol><details class="custom-container details"><summary>Details</summary><ul><li>åŸå‹é“¾ç»§æ‰¿ï¼š<code>Child.prototype = new Parent()</code><ul><li>ä¼˜ç‚¹ï¼šç®€å•æ˜“äºå®ç°ï¼Œçˆ¶ç±»çš„æ–°å¢çš„å®ä¾‹ä¸å±æ€§å­ç±»éƒ½èƒ½è®¿é—®</li><li>ç¼ºç‚¹ï¼šæ‰€æœ‰å®ä¾‹éƒ½ä¼šå…±äº«çˆ¶ç±»çš„å®ä¾‹ï¼Œåˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ä¼ å‚æ•°</li></ul></li><li>æ„é€ å‡½æ•°ç»§æ‰¿ <code>Child(){parent.call(this)}</code><ul><li>ä¼˜ç‚¹ï¼šæ”¯æŒå­ç±»æ„é€ å‡½æ•°å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•° ï¼Œå¯ä»¥å®ç°å¤šç»§æ‰¿</li><li>ç¼ºç‚¹ï¼šåªèƒ½ç»§æ‰¿çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ— æ³•å®ç°æ„é€ å‡½æ•°çš„å¤ç”¨ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰çˆ¶ç±»æ„é€ å‡½æ•°çš„å‰¯æœ¬</li></ul></li><li>å®ä¾‹ç»§æ‰¿ <ul><li>ä¼˜ç‚¹ï¼šç®€å•ï¼Œæ˜“å®ç°</li><li>ç¼ºç‚¹ï¼šä¸èƒ½å¤šæ¬¡ç»§æ‰¿</li></ul></li><li>ç»„åˆç»§æ‰¿ï¼šè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§ï¼Œé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  instance<span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">return</span> instance
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç»„åˆå¼ç»§æ‰¿ <ul><li>ä¼˜ç‚¹ï¼šå‡½æ•°å¯ä»¥å¤ç”¨ï¼Œä¸å­˜åœ¨å¼•ç”¨å±æ€§é—®é¢˜ï¼Œå¯ä»¥ç»§æ‰¿å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥ç»§æ‰¿åŸå‹çš„å±æ€§å’Œæ–¹æ³•</li><li>ç¼ºç‚¹ï¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¼šæ¯”è¾ƒè€—å†…å­˜,å­ç±»çš„æ„é€ å‡½æ•°ä¼šæ›¿ä»£çˆ¶ç±»ä¸Šçš„æ„é€ å‡½æ•°</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span>ï¼Œname<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>es6ç»§æ‰¿ <ul><li>ä»£ç é‡å°‘ï¼Œæ˜“æ‡‚</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">parent</span><span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> phone<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è¿™æ˜¯ä½ çˆ¹çš„æ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">child</span> <span class="token keyword">extends</span> <span class="token class-name">parent</span><span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>salary</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>salary <span class="token operator">=</span> salary<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è¿™æ˜¯å­©å­è‡ªå·±çš„æ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> baby <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">son3</span><span class="token punctuation">(</span><span class="token string">&quot;baby&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;10000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol><li>è·¨åŸŸ</li></ol><details class="custom-container details"><summary>Details</summary><p>è·¨åŸŸï¼š<br><strong>JSONP åªèƒ½è§£å†³GETè·¨åŸŸ(é—®çš„æœ€å¤š)</strong> **åŸç†ï¼š**åŠ¨æ€åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾ã€‚åˆ©ç”¨scriptæ ‡ç­¾çš„srcå±æ€§ä¸å—åŒæºç­–ç•¥é™åˆ¶ã€‚å› ä¸ºæ‰€æœ‰çš„srcå±æ€§å’Œhrefå±æ€§éƒ½ä¸å—åŒæºç­–ç•¥é™åˆ¶ã€‚å¯ä»¥è¯·æ±‚ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ•°æ®å†…å®¹ã€‚ æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</li><li>scriptçš„srcå±æ€§è®¾ç½®æ¥å£åœ°å€</li><li>æ¥å£å‚æ•°,å¿…é¡»è¦å¸¦ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°å è¦ä¸ç„¶åå°æ— æ³•è¿”å›æ•°æ®ã€‚</li><li>é€šè¿‡å®šä¹‰å‡½æ•°åå»æ¥æ”¶åå°è¿”å›æ•°æ®</li></ol><p><strong>CORSï¼šè·¨åŸŸèµ„æºå…±äº«</strong></p><p>åŸç†ï¼šæœåŠ¡å™¨è®¾ç½®Access-Control-Allow-OriginHTTPå“åº”å¤´ä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚. é™åˆ¶ï¼šæµè§ˆå™¨éœ€è¦æ”¯æŒHTML5ï¼Œå¯ä»¥æ”¯æŒPOSTï¼ŒPUTç­‰æ–¹æ³•å…¼å®¹ie9ä»¥ä¸Š éœ€è¦åå°è®¾ç½®.</p><p><strong>è®¾ç½® document.domain</strong></p><p>åŸç†ï¼šç›¸åŒä¸»åŸŸåä¸åŒå­åŸŸåä¸‹çš„é¡µé¢ï¼Œå¯ä»¥è®¾ç½®document.domainè®©å®ƒä»¬åŒåŸŸ<br> é™åˆ¶ï¼šåŒåŸŸdocumentæä¾›çš„æ˜¯é¡µé¢é—´çš„äº’æ“ä½œï¼Œéœ€è¦è½½å…¥iframeé¡µé¢.</p><p><strong>ES5 postMessage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">postMessage</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>origin<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>ç”¨Apacheåšè½¬å‘ï¼ˆé€†å‘ä»£ç†ï¼‰ï¼Œè®©è·¨åŸŸå˜æˆåŒåŸŸ</strong></p></details><ol start="3"><li>ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„æƒ…å†µ</li></ol><details class="custom-container details"><summary>Details</summary><ol><li>é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ã€‚</li><li>è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯jsä¸èƒ½è¯»å†™åŠ è½½çš„å†…å®¹ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„ç­‰</li></ol></details><ol start="4"><li>è¯·æ±‚è¶…æ—¶æ€ä¹ˆå®ç°ï¼ˆraceï¼‰</li></ol><details class="custom-container details"><summary>Details</summary><p>Promise.raceå°±æ˜¯ä¸€ç»„promiseä¸­åªè¦æœ‰ä¸€ä¸ªè¿”å›ï¼Œå…¶å®ƒçš„promiseå°±ä¸ä¼šæ‰§è¡Œåç»­å›è°ƒ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//simple-timeout-promise.js</span>
<span class="token keyword">function</span> <span class="token function">delayPromise</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">timeoutPromise</span><span class="token punctuation">(</span><span class="token parameter">promise<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> timeout <span class="token operator">=</span> <span class="token function">delayPromise</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Operation timed out after &#39;</span> <span class="token operator">+</span> ms <span class="token operator">+</span> <span class="token string">&#39; ms&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise<span class="token punctuation">,</span> timeout<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿”å›taskPromiseå’ŒtimeoutPromiseç»„æˆçš„Promise.race</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token function">cancelableXHR</span><span class="token punctuation">(</span><span class="token string">&#39;http://httpbin.org/get&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// main</span>
<span class="token function">timeoutPromise</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>promise<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Contents&#39;</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">TimeoutError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        object<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;XHR Error :&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é€šè¿‡è¶…æ—¶å–æ¶ˆXHRæ“ä½œ</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//delay-race-cancel-play.js</span>
<span class="token keyword">class</span> <span class="token class-name">TimeoutError</span> <span class="token keyword">extends</span> <span class="token class-name">Error</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">delayPromise</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">timeoutPromise</span><span class="token punctuation">(</span><span class="token parameter">promise<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> timeout <span class="token operator">=</span> <span class="token function">delayPromise</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TimeoutError</span><span class="token punctuation">(</span><span class="token string">&#39;Operation timed out after &#39;</span> <span class="token operator">+</span> ms <span class="token operator">+</span> <span class="token string">&#39; ms&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise<span class="token punctuation">,</span> timeout<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">cancelableXHR</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">URL</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function-variable function">onabort</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;abort this request&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">abort</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœrequestè¿˜æ²¡æœ‰ç»“æŸçš„è¯å°±æ‰§è¡Œabort</span>
        <span class="token comment">// https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>readyState <span class="token operator">!==</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">UNSENT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            req<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">promise</span><span class="token operator">:</span> promise<span class="token punctuation">,</span>
        <span class="token literal-property property">abort</span><span class="token operator">:</span> abort
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token function">cancelableXHR</span><span class="token punctuation">(</span><span class="token string">&#39;http://httpbin.org/get&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// main</span>
<span class="token function">timeoutPromise</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span>promise<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contents</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Contents&#39;</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">TimeoutError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        object<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;XHR Error :&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="5"><li>ajaxçš„å®ç°åŸç†</li></ol><details class="custom-container details"><summary>Details</summary><p>Ajaxæ˜¯ä¸€ç§å¼‚æ­¥è¯·æ±‚æ•°æ®çš„webå¼€å‘æŠ€ï¼Œåœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹åŠ è½½æ•°æ®</p><p>Ajaxçš„ç›®çš„æ˜¯æé«˜ç”¨æˆ·ä½“éªŒï¼Œè¾ƒå°‘ç½‘ç»œæ•°æ®çš„ä¼ è¾“é‡ï¼ŒèŠ‚çœäº†ç½‘ç»œå¸¦å®½</p><p>Ajaxçš„åŸç†ç®€å•æ¥è¯´é€šè¿‡XmlHttpRequestå¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ® XMLHttpRequestæ˜¯ajaxçš„æ ¸å¿ƒæœºåˆ¶ï¼Œå®ƒæ˜¯åœ¨IE5ä¸­é¦–å…ˆå¼•å…¥çš„ï¼Œæ˜¯ä¸€ç§æ”¯æŒå¼‚æ­¥è¯·æ±‚çš„æŠ€æœ¯ï¼ŒJavaScriptå¯ä»¥åŠæ—¶å‘æœåŠ¡å™¨æå‡ºè¯·æ±‚å’Œå¤„ç†å“åº”ï¼Œè€Œä¸é˜»å¡ç”¨æˆ· <strong>Ajax åŸºæœ¬æ­¥éª¤</strong></p><ol><li><p>åˆ›å»ºXmlHttpRequestå¯¹è±¡</p></li><li><p>è°ƒç”¨openæ–¹æ³•è®¾ç½®åŸºæœ¬è¯·æ±‚ä¿¡æ¯</p></li><li><p>è®¾ç½®å‘é€çš„æ•°æ®ï¼Œå‘é€è¯·æ±‚</p></li><li><p>æ³¨å†Œç›‘å¬çš„å›è°ƒå‡½æ•°</p></li><li><p>æ‹¿åˆ°è¿”å›å€¼ï¼Œå¯¹é¡µé¢è¿›è¡Œæ›´æ–°</p></li><li><p>åˆ›å»ºAjaxæ ¸å¿ƒå¯¹è±¡XMLHttpRequest(è®°å¾—è€ƒè™‘å…¼å®¹æ€§)</p></li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">XMLHttpRequest</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// å…¼å®¹ IE7+, Firefox, Chrome, Opera, Safari  </span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">XMLHttpRequest</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// å…¼å®¹ IE6, IE5 </span>
	xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> async<span class="token punctuation">)</span><span class="token punctuation">;</span>  
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;fname=Henry&amp;lname=Ford&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//`POST`è¯·æ±‚å‚æ•°æ”¾åœ¨sendé‡Œé¢ï¼Œå³è¯·æ±‚ä½“</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ä¸€ä¸ªPromiseå¯¹è±¡å®ç°çš„ Ajax æ“ä½œçš„ä¾‹å­ï¼š</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">getJSON</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    client<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Accept&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> promise<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;/posts.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Contents: &#39;</span> <span class="token operator">+</span> json<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;å‡ºé”™äº†&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä»€ä¹ˆæ˜¯readyStateï¼Ÿ</strong></p><p>readyStateæ˜¯XMLHttpRequestå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥æ ‡è¯†å½“å‰XMLHttpRequestå¯¹è±¡å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚ readyStateæ€»å…±æœ‰5ä¸ªçŠ¶æ€å€¼ï¼Œåˆ†åˆ«ä¸º0~4ï¼Œæ¯ä¸ªå€¼ä»£è¡¨äº†ä¸åŒçš„å«ä¹‰ï¼š</p><p>0ï¼šæœªåˆå§‹åŒ– â€” å°šæœªè°ƒç”¨.open()æ–¹æ³•ï¼›<br> 1ï¼šå¯åŠ¨ â€” å·²ç»è°ƒç”¨.open()æ–¹æ³•ï¼Œä½†å°šæœªè°ƒç”¨.send()æ–¹æ³•ï¼›<br> 2ï¼šå‘é€ â€” å·²ç»è°ƒç”¨.send()æ–¹æ³•ï¼Œä½†å°šæœªæ¥æ”¶åˆ°å“åº”ï¼›<br> 3ï¼šæ¥æ”¶ â€” å·²ç»æ¥æ”¶åˆ°éƒ¨åˆ†å“åº”æ•°æ®ï¼›<br> 4ï¼šå®Œæˆ â€” å·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”æ•°æ®ï¼Œè€Œä¸”å·²ç»å¯ä»¥åœ¨å®¢æˆ·ç«¯ä½¿ç”¨äº†ï¼›</p><p><strong>ä»€ä¹ˆæ˜¯statusï¼Ÿ</strong> HTTPçŠ¶æ€ç (status)ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆï¼Œç¬¬ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å®šä¹‰äº†çŠ¶æ€ç çš„ç±»å‹ï¼Œåä¸¤ä¸ªæ•°å­—æ²¡æœ‰åˆ†ç±»çš„ä½œç”¨ã€‚HTTPçŠ¶æ€ç å…±åˆ†ä¸º5ç§ç±»å‹ï¼š</p><p>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰ï¼šè¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç ã€‚ 2xxï¼ˆæˆåŠŸï¼‰ï¼šè¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç ã€‚ 3xxï¼ˆé‡å®šå‘ï¼‰ï¼šè¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚ 4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰ï¼šè¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚ 5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ï¼šè¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™ã€‚</p><p><strong>å¸¸è§çš„çŠ¶æ€ç </strong> 200 è¡¨ç¤ºä»å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡å™¨ç«¯è¢«æ­£å¸¸å¤„ç†äº†ã€‚ 204 è¡¨ç¤ºè¯·æ±‚å¤„ç†æˆåŠŸï¼Œä½†æ²¡æœ‰èµ„æºè¿”å›ã€‚ 301 è¡¨ç¤ºæ°¸ä¹…æ€§é‡å®šå‘ã€‚è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²è¢«åˆ†é…äº†æ–°çš„URIï¼Œä»¥ååº”ä½¿ç”¨èµ„æºç°åœ¨æ‰€æŒ‡çš„URIã€‚ 302 è¡¨ç¤ºä¸´æ—¶æ€§é‡å®šå‘ã€‚ 304 è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ˆæŒ‡é‡‡ç”¨GETæ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«if-matched,if-modified-since,if-none-match,if-range,if-unmodified-sinceä»»ä¸€ä¸ªé¦–éƒ¨ï¼‰æœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿é—®èµ„æºï¼Œä½†å› å‘ç”Ÿè¯·æ±‚æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µåï¼Œç›´æ¥è¿”å›304Modifiedï¼ˆæœåŠ¡å™¨ç«¯èµ„æºæœªæ”¹å˜ï¼Œå¯ç›´æ¥ä½¿ç”¨å®¢æˆ·ç«¯æœªè¿‡æœŸçš„ç¼“å­˜ï¼‰ 400 è¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚å½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œéœ€ä¿®æ”¹è¯·æ±‚çš„å†…å®¹åå†æ¬¡å‘é€è¯·æ±‚ã€‚ 401 è¡¨ç¤ºæœªæˆæƒï¼ˆUnauthorized)ï¼Œå½“å‰è¯·æ±‚éœ€è¦ç”¨æˆ·éªŒè¯ 403 è¡¨ç¤ºå¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»äº† 404 è¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯æ‹’ç»è¯·æ±‚ä¸”ä¸æƒ³è¯´æ˜ç†ç”±æ—¶ä½¿ç”¨ã€‚ 500 è¡¨ç¤ºæœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ã€‚ä¹Ÿæœ‰å¯èƒ½æ˜¯Webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„æ•…éšœã€‚ 503 è¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚</p></details><ol start="6"><li>fetchï¼ˆå…¬å¸ä½¿ç”¨ï¼‰</li></ol><details class="custom-container details"><summary>Details</summary><p>fetchæ˜¯ä¸€ç§HTTPæ•°æ®è¯·æ±‚çš„æ–¹å¼ï¼Œæ˜¯XMLHttpRequestçš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚fetchä¸æ˜¯ajaxçš„è¿›ä¸€æ­¥å°è£…ï¼Œè€Œæ˜¯åŸç”Ÿjs</p><p><strong>ç‰¹ç‚¹</strong></p><ol><li>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯URL:</li><li>ç¬¬äºŒä¸ªæ˜¯å¯é€‰å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶ä¸åŒé…ç½®çš„ init å¯¹è±¡</li><li>ä½¿ç”¨äº† JavaScript Promises æ¥å¤„ç†ç»“æœ/å›è°ƒ:</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Oops, error&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>fetchå’Œajax çš„ä¸»è¦åŒºåˆ«</strong></p><ol><li>fetch()è¿”å›çš„promiseå°†ä¸ä¼šæ‹’ç»httpçš„é”™è¯¯çŠ¶æ€ï¼Œå³ä½¿å“åº”æ˜¯ä¸€ä¸ªHTTP 404æˆ–è€…500</li><li>åœ¨é»˜è®¤æƒ…å†µä¸‹ fetchä¸ä¼šæ¥å—æˆ–è€…å‘é€cookies</li></ol><p><strong>fetchçš„é…ç½®</strong> Promise fetch(String url [, Object options]); Promise fetch(Request req [, Object options]);</p></details><ol start="7"><li>v-modelæ‰‹åŠ¨å®ç°</li></ol><details class="custom-container details"><summary>Details</summary><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit(&#39;input&#39;,$event.target.value)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> son <span class="token keyword">from</span> <span class="token string">&#39;./son.vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> newVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>son</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>name<span class="token punctuation">&#39;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>son</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> son <span class="token keyword">from</span> <span class="token string">&#39;./son.vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jenny&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> val
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>son<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="8"><li>æ‡’åŠ è½½å›¾ç‰‡</li></ol><details class="custom-container details"><summary>Details</summary><p>ä»€ä¹ˆæ˜¯å›¾ç‰‡æ‡’åŠ è½½ï¼Ÿ<br> å›¾ç‰‡æ‡’åŠ è½½æ˜¯å‰ç«¯é¡µé¢ä¼˜åŒ–çš„ä¸€ç§æ–¹å¼ï¼Œæ ¹æ®å›¾ç‰‡æ˜¯å¦å‡ºç°åœ¨å¯è§†åŒºåŸŸçš„èŒƒå›´å†…è¿›è¡Œç›¸åº”å›¾ç‰‡çš„è¯·æ±‚æ˜¾ç¤ºï¼ˆç»“åˆæ»šåŠ¨åŠ è½½ï¼‰ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦æ‡’åŠ è½½ï¼Ÿ<br> å¦‚æœé¡µé¢ä¸­éœ€è¦æ˜¾ç¤ºå¾ˆå¤šå›¾ç‰‡çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬ä¸€å‘³åœ°ä½¿ç”¨<img>æ§ä»¶ç›´æ¥åŠ è½½å›¾ç‰‡çš„æ—¶å€™ï¼Œè¿™æ ·ä¼šæ¶ˆè€—è®¸å¤šæ—¶é—´å»è¯·æ±‚ç½‘ç»œï¼Œè€Œä¸”å¾ˆå½±å“æ¸²æŸ“é€Ÿåº¦ï¼Œä»¥è‡³äºå½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</p><ol><li>å®šä¹‰srcçš„å›¾ç‰‡åœ°å€ï¼Œsrcä¸ºâ€œåŠ è½½ä¸­â€çš„åŠ¨å›¾</li><li>data-srcä¸ºå®é™…è¦å±•ç¤ºçš„å›¾ç‰‡åœ°å€</li><li>åœ¨lazyloadä¸­é€šè¿‡åˆ¤æ–­æ¯å¼ å›¾ç‰‡çš„offsetTopæ˜¯å¦å°äºè§†å£é«˜åº¦å’Œæ»šåŠ¨æ¡scrolltopçš„å’Œæ¥åˆ¤æ–­æ˜¯å¦è¿›å…¥å¯è§†åŒºåŸŸ</li><li>å¦‚æœè¿›å…¥å¯è§†åŒºåŸŸå°±è¿›è¡Œæ˜¾ç¤ºã€‚</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> num <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//imgå…ƒç´ çš„æ•°é‡</span>
<span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ•°ç»„</span>
<span class="token comment">//é»˜è®¤è§†å£å†…çš„å›¾ç‰‡ç›´æ¥å±•ç¤º</span>
<span class="token function">lazyload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//æ»šåŠ¨åŠ è½½æ—¶è¿›è¡Œæ‡’åŠ è½½</span>
window<span class="token punctuation">.</span>onscroll <span class="token operator">=</span> lazyload<span class="token punctuation">;</span>
<span class="token comment">//æ‡’åŠ è½½</span>
<span class="token keyword">function</span> <span class="token function">lazyload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> seeHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span><span class="token comment">//è§†å£</span>
    <span class="token keyword">let</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetTop <span class="token operator">&lt;</span> seeHeight <span class="token operator">+</span> scrollTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;./timer.gif&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="9"><li>è·¯ç”±hashæ¨¡å¼å’Œhistoryæ¨¡å¼</li></ol><details class="custom-container details"><summary>Details</summary><p><strong>hash æ¨¡å¼</strong> æ˜¯ä¸€ç§æŠŠå‰ç«¯è·¯ç”±çš„è·¯å¾„ç”¨äº•å· # æ‹¼æ¥åœ¨çœŸå® URL åé¢çš„æ¨¡å¼ã€‚ å½“äº•å· # åé¢çš„è·¯å¾„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šé‡æ–°å‘èµ·è¯·æ±‚ï¼Œè€Œæ˜¯ä¼šè§¦å‘ hashchange äº‹ä»¶ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Aé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#/b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Bé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;hashchange&#39;</span><span class="token punctuation">,</span> render<span class="token punctuation">)</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>hash æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šæµè§ˆå™¨å…¼å®¹æ€§è¾ƒå¥½ï¼Œè¿ IE8 éƒ½æ”¯æŒ ç¼ºç‚¹ï¼šè·¯å¾„åœ¨äº•å· # çš„åé¢ï¼Œæ¯”è¾ƒä¸‘</p><p><strong>history æ¨¡å¼</strong> history API æ˜¯ H5 æä¾›çš„æ–°ç‰¹æ€§ï¼Œå…è®¸å¼€å‘è€…ç›´æ¥æ›´æ”¹å‰ç«¯è·¯ç”±ï¼Œå³æ›´æ–°æµè§ˆå™¨ URL åœ°å€è€Œä¸é‡æ–°å‘èµ·è¯·</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:toA();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Aé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:toB();<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Bé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">toA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;/a&#39;</span><span class="token punctuation">)</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">toB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;/b&#39;</span><span class="token punctuation">)</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;popstate&#39;</span><span class="token punctuation">,</span> render<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>history API æä¾›äº†ä¸°å¯Œçš„å‡½æ•°ä¾›å¼€å‘è€…è°ƒç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;/b&#39;</span><span class="token punctuation">)</span> <span class="token comment">// æ›¿æ¢è·¯ç”±</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;/a&#39;</span><span class="token punctuation">)</span> <span class="token comment">// è·¯ç”±å‹æ ˆ</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿”å›</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å‰è¿›</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// åé€€2æ¬¡</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä»£ç ç›‘å¬äº† popstate äº‹ä»¶ï¼Œè¯¥äº‹ä»¶èƒ½ç›‘å¬åˆ°ï¼š</p><ul><li>ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›å’Œåé€€æ“ä½œ</li><li>æ‰‹åŠ¨è°ƒç”¨ history çš„ backã€forward å’Œ go æ–¹æ³•</li></ul><p>ç›‘å¬ä¸åˆ°ï¼š history çš„ <code>pushState</code> å’Œ <code>replaceState</code>æ–¹æ³• è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸Šé¢çš„ toA å’Œ toB å‡½æ•°å†…éƒ¨éœ€è¦æ‰‹åŠ¨è°ƒç”¨ render æ–¹æ³•çš„åŸå› ã€‚</p><p>åœ¨çº¿ä¸Šéƒ¨ç½²åŸºäº history API çš„å•é¡µé¢åº”ç”¨çš„æ—¶å€™ï¼Œä¸€å®šè¦åç«¯é…åˆæ”¯æŒæ‰è¡Œï¼Œå¦åˆ™ä¼šå‡ºç°å¤§é‡çš„ 404ã€‚ä»¥æœ€å¸¸ç”¨çš„ Nginx ä¸ºä¾‹ï¼Œåªéœ€è¦åœ¨é…ç½®çš„ location / ä¸­å¢åŠ ä¸‹é¢ä¸€è¡Œå³å¯ï¼š <code>try_files $uri /index.html;</code></p><p>æ€»ç»“ä¸€ä¸‹ history æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šè·¯å¾„æ¯”è¾ƒæ­£è§„ï¼Œæ²¡æœ‰äº•å· #</li><li>ç¼ºç‚¹ï¼šå…¼å®¹æ€§ä¸å¦‚ hashï¼Œä¸”éœ€è¦æœåŠ¡ç«¯æ”¯æŒï¼Œå¦åˆ™ä¸€åˆ·æ–°é¡µé¢å°±404äº†</li></ul></details><h2 id="ç»„ä»¶è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶è®¾è®¡" aria-hidden="true">#</a> ç»„ä»¶è®¾è®¡ğŸŒŸ</h2><p>åŸåˆ™ï¼š</p><ul><li>slotæé«˜å¯æ‹“å±•æ€§</li><li>å•ä¸€åŸåˆ™ï¼Œå¤æ‚åŠŸèƒ½æ‹†åˆ†ï¼Œé»˜è®¤å€¼ä½¿ç”¨é€‚é…å‡ºç°æœ€å¤šçš„åœºæ™¯ï¼Œæé«˜æ˜“ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œ</li><li>é€šç”¨ç»„ä»¶å°½é‡ä¸è¦æœ‰ä¸šåŠ¡ä»£ç </li></ul><p>æ­¥éª¤ï¼š</p><details class="custom-container details"><summary>Details</summary><p>åˆ†ç±»ï¼šä¸šåŠ¡ç»„ä»¶/é€šç”¨ç»„ä»¶ï¼Œ å®¹å™¨ç»„ä»¶/è§†å›¾ç»„ä»¶ ç‰¹æ€§ï¼š<br> æ‰©å±•æ€§ï¼šåœ¨åŸæœ‰ç»„ä»¶åŸºç¡€ä¸Šå¯ <code>äºŒæ¬¡å°è£…</code> æ‰©å±•æˆæ–°çš„ç»„ä»¶ç¬¦åˆè®¾è®¡çš„<code>å¼€é—­åŸåˆ™</code><br> é€šç”¨æ€§ï¼šæ ¹æ®ç»„ä»¶æ¥å—çš„å‚æ•°å’Œç»„ä»¶ä¸­ä¸ä¸šåŠ¡çš„è§£è€¦æ¯”æ¥è¡¡é‡ç»„ä»¶çš„é€šç”¨æ€§,å¹¶ä¸æ˜¯é€šç”¨æ€§å æ¯”100%çš„ç»„ä»¶å°±æ˜¯æœ€å¥½çš„ç»„ä»¶ï¼Œéœ€è¦æ ¹æ® ä¸åŒçš„åœºæ™¯ åˆ†æ<br> å¥å£®æ€§ï¼šé¿å…ç»„ä»¶ä¸­å‚æ•°å¤„ç†å’Œå‡½æ•°æ‰§è¡Œè¿‡ç¨‹å¯èƒ½å‡ºç°çš„å¥”æºƒå’Œé”™è¯¯å¯¼è‡´ç¨‹åºçš„ç›´æ¥æŒ‚æ–­ï¼Œè€ƒè™‘è¾¹ç•Œå’Œå¼‚å¸¸é”™è¯¯å¤„ç† æ˜“ç”¨æ€§ï¼Œå¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§</p><p>å‡¡æ˜¯ç»„ä»¶<code>ä¸æ–­æ‰©å±•</code>ï¼Œä½¿å…¶é€šç”¨æ€§æå‡ï¼Œå¿…ç„¶å°±ä¼šé™ä½ç»„ä»¶çš„ <code>æ˜“ç”¨æ€§</code> <code>å¯ç»´æŠ¤æ€§</code>,è¿™éœ€è¦èµ°ä¸€ä¸ªæŠ˜ä¸­çš„è¡¡é‡</p><p>åƒVue å’Œ React æ¨è ä¸€ä¸ªç»„ä»¶ä»£ç é•¿åº¦åœ¨ 200 - 500 è¡Œæœ€ä½³</p><p>ä¸šåŠ¡å¼ºå…³è”<br> é€šå¸¸æƒ…å†µï¼Œç»„ä»¶ä¸­çš„å¤§é‡æ•°æ®æ¥æº å½“å‰ç»„ä»¶çš„æ¥å£è¯·æ±‚ã€‚ æ²¡æœ‰ä¾èµ–æˆ–è€…å‡ ä¹ä¸ä¾èµ–å¤–éƒ¨ä¼ å…¥çš„propsç­‰ï¼Œç§°ä¸ºä¸šåŠ¡å¼ºå…³è”ç»„ä»¶ï¼Œæ”¾å¼ƒç»„ä»¶å°è£…çš„æƒ³æ³•ã€‚</p><p>ç»„ä»¶å°è£…çš„åŸåˆ™ï¼š</p><ol><li>å•ä¸€åŸåˆ™ï¼šè´Ÿè´£å•ä¸€çš„é¡µé¢æ¸²æŸ“</li><li>å¤šé‡èŒè´£ï¼šè´Ÿè´£å¤šé‡èŒè´£ï¼Œè·å–æ•°æ®ï¼Œå¤ç”¨é€»è¾‘ï¼Œé¡µé¢æ¸²æŸ“ç­‰</li><li>æ‰å¹³åŒ–ã€é¢å‘æ•°æ®çš„ state/props.</li><li>æ˜ç¡®æ¥å—å‚æ•°ï¼šå¿…é€‰ï¼Œéå¿…é€‰ï¼Œå‚æ•°å°½é‡è®¾ç½®ä»¥_å¼€å¤´ï¼Œé¿å…å˜é‡é‡å¤</li><li>å¯æ‰©å±•ï¼šéœ€æ±‚å˜åŠ¨èƒ½å¤ŸåŠæ—¶è°ƒæ•´ï¼Œä¸å½±å“ä¹‹å‰ä»£ç </li><li>ä»£ç é€»è¾‘æ¸…æ™°</li><li>å°è£…çš„ç»„ä»¶å¿…é¡»å…·æœ‰é«˜æ€§èƒ½ï¼Œä½è€¦åˆçš„ç‰¹æ€§</li><li>é›¶ä¸šåŠ¡ä»£ç </li><li>ä¼˜ç§€çš„UIå’ŒAPIè®¾è®¡</li><li>æ˜“å­¦å’Œæ˜“ç”¨</li><li>ç»„ä»¶å…·æœ‰å•ä¸€èŒè´£ï¼šå°è£…ä¸šåŠ¡ç»„ä»¶æˆ–è€…åŸºç¡€ç»„ä»¶ï¼Œå¦‚æœä¸èƒ½ç»™è¿™ä¸ªç»„ä»¶èµ·ä¸€ä¸ªæœ‰æ„ä¹‰çš„åå­—ï¼Œè¯æ˜è¿™ä¸ªç»„ä»¶æ‰¿æ‹…çš„èŒè´£å¯èƒ½ä¸å¤Ÿå•ä¸€ï¼Œéœ€è¦ç»§ç»­æŠ½ç»„ä»¶ï¼Œç›´åˆ°å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶å³å¯ã€‚</li></ol><p><strong>å¯ç»´æŠ¤æ€§ å¯æ‰©å±•æ€§</strong><br> 1ï¼šæ´»ç”¨ç»„ä»¶ç»§æ‰¿ 2ï¼šæ´»ç”¨slot 3ï¼šä½¿ç”¨propsçµæ´»è¡¨ç°ç•Œé¢å…ƒç´  4ï¼šçˆ¶å­æ‹†åˆ†</p><p><strong>åä½œæ€§</strong></p><ol><li>ä½¿ç”¨computedå¯¹propsè¿›è¡ŒäºŒæ¬¡å°è£…</li><li>cssä½¿ç”¨BEMå‘½å</li><li>äº‹ä»¶ä»¥handleå¼€å¤´</li><li>ç§æœ‰æ–¹æ³•ä»¥_å¼€å¤´è‘—å</li><li>å¯¹å¤–æš´éœ²ç±»ä¼¼htmlç©ºé—´çš„åŸç”Ÿå±æ€§æ¥è´´è¿‘åŸç”Ÿè¡Œä¸º</li><li>å¸¸é‡ä½¿ç”¨constå£°æ˜</li></ol></details><ol start="10"><li>å¦‚æœå‰åç«¯æ•°æ®ä¸ä¸€è‡´ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ</li></ol><details class="custom-container details"><summary>Details</summary><p>åŠ ä¸ªè£…é¥°è½¬ä¸€ä¸‹ï¼Œ è·Ÿåç«¯åå•†ï¼Œå¯¹æ¯”å‰åç«¯ä¿®æ”¹çš„å¤æ‚åº¦ï¼Œçœ‹è°æ”¹æ›´åˆé€‚</p></details><h2 id="æ‰‹å†™-urlè§£æ" tabindex="-1"><a class="header-anchor" href="#æ‰‹å†™-urlè§£æ" aria-hidden="true">#</a> æ‰‹å†™ï¼šurlè§£æ</h2><p><a href="https://juejin.cn/post/6844903697198088199" target="_blank" rel="noopener noreferrer">æ‰‹å†™ï¼šurlè§£æ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li><code>a.href</code></li><li><code>new URL(url)</code></li><li>æ­£åˆ™</li><li>çº¯æ‰‹å†™</li><li><code>for (let [key, value] of new URLSearchParams(search))</code></li></ol><details class="custom-container details"><summary>Details</summary><p>å·æ‡’çš„æ–¹æ³•ï¼ˆä½¿ç”¨aæ ‡ç­¾ï¼Œä½¿ç”¨URLå¯¹è±¡ï¼Œä½¿ç”¨æ­£åˆ™ï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">URLParser</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ–¹æ³•ä¸€ ç”¨aæ ‡ç­¾</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token comment">// æ–¹æ³•äºŒ ä½¿ç”¨URLå¯¹è±¡</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">protocol</span><span class="token operator">:</span> a<span class="token punctuation">.</span>protocol<span class="token punctuation">,</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> a<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> a<span class="token punctuation">.</span>password<span class="token punctuation">,</span>
        <span class="token literal-property property">hostname</span><span class="token operator">:</span> a<span class="token punctuation">.</span>hostname<span class="token punctuation">,</span> <span class="token comment">// host å¯èƒ½åŒ…æ‹¬ port, hostname ä¸åŒ…æ‹¬</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> a<span class="token punctuation">.</span>port<span class="token punctuation">,</span>
        <span class="token literal-property property">pathname</span><span class="token operator">:</span> a<span class="token punctuation">.</span>pathname<span class="token punctuation">,</span>
        <span class="token literal-property property">search</span><span class="token operator">:</span> a<span class="token punctuation">.</span>search<span class="token punctuation">,</span>
        <span class="token literal-property property">hash</span><span class="token operator">:</span> a<span class="token punctuation">.</span>hash<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ–¹æ³•ä¸‰ï¼š ä½¿ç”¨æ­£åˆ™</span>
<span class="token keyword">function</span> <span class="token function">parseUrl</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;^(?:([^/?#]+))?//(?:([^:]*)(?::?(.*))@)?(?:([^/?#:]*):?([0-9]+)?)?([^?#]*)(\\?(?:[^#]*))?(#(?:.*))?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> matches <span class="token operator">=</span>  url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">protocol</span><span class="token operator">:</span> matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> matches<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> matches<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hostname</span><span class="token operator">:</span> matches<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span>     matches<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathname</span><span class="token operator">:</span> matches<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">search</span><span class="token operator">:</span>   matches<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hash</span><span class="token operator">:</span>     matches<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// è§£é‡Šå‚æ•°</span>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">search</span> ç±»ä¼¼äº location.search
 * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">function</span> <span class="token function">getUrlQueyr</span><span class="token punctuation">(</span><span class="token parameter">search</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> searchObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        searchObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> searchObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ä¼˜ç‚¹ï¼š</span>
<span class="token comment">// ä¸éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ decodeURIComponent</span>
<span class="token comment">// ä¼šå¸®ç€æŠŠ query ä¸Šçš„ + è‡ªåŠ¨è½¬æ¢ä¸ºç©ºæ ¼ï¼ˆå•ç‹¬ä½¿ç”¨ decodeURIComponent åšä¸åˆ°è¿™ç‚¹ï¼‰ï¼ˆè‡³äºä»€ä¹ˆæƒ…å†µæŠŠ ç©ºæ ¼ è½¬æ¢ä¸º + ï¼Œä»€ä¹ˆæƒ…å†µæŠŠç©ºæ ¼è½¬æ¢ä¸º %20ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œç­‰ï¼‰</span>
<span class="token comment">// ä¸æ”¯æŒå¦‚ array[] / obj{} ç­‰å½¢å¼</span>

<span class="token comment">// æ–¹æ³•å››ï¼šæ‰‹å†™</span>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">query</span> å½¢å¦‚ location.search
 * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">}</span></span>
 */</span>
<span class="token keyword">function</span> <span class="token function">parseQueryString</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    query <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> queryArr <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    queryArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">query</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;=&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>value <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            key <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>key <span class="token operator">||</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// éæ³•</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token function">getQuertType</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&#39;ARRAY&#39;</span><span class="token operator">:</span>
                key <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\[\]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    result<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">&#39;JSON&#39;</span><span class="token operator">:</span> 
                key <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\{\}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
                value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                result<span class="token punctuation">.</span>json <span class="token operator">=</span> value<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">getQuertType</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;[]&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;ARRAY&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;{}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;JSON&#39;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&#39;DEFAULT&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><ol start="7"><li>ç®€è¿° React çš„æ¸²æŸ“åŸç†, React.createElementå‡½æ•°çš„ä½œç”¨</li></ol><details class="custom-container details"><summary>Details</summary></details><details class="custom-container details"><summary>Details</summary></details><p>ä¸€é¢ è‡ªæˆ‘ä»‹ç», é—®ä¹‹å‰å®ä¹ å·¥ä½œé¡¹ç›®, ä¸»è¦æ˜¯æŠ€æœ¯æ ˆ httpsåè®® Viteçš„åŸç†, Vite é™¤äº†ä¸æ‰“åŒ…ä»¥å¤–å’Œ Webpack ç›¸æ¯”è¿˜æœ‰å“ªäº›ä¼˜åŠ¿ Vite é¡¹ç›®å¯åŠ¨å, æµè§ˆå™¨æ¯ä¸€æ¬¡é€šè¿‡ ESM æœºåˆ¶è¯·æ±‚ js æ—¶, viteDevServer ä¼šå¦‚ä½•å¤„ç† js æºç  React hooksçš„ä¼˜åŠ¿æœ‰å“ªäº›, ç®€è¿° hooks åŸç† ç®€è¿° React çš„fiber treeç»“æ„, React ä¸ºä»€ä¹ˆä½¿ç”¨ fiber tree å®ç° VDOM åœ¨ fiber tree ä¸Šçš„ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶èŠ‚ç‚¹, å…¶å†…éƒ¨ç®¡ç†ä¸€ä¸ª hooks é“¾è¡¨, è¯·é—®è¯¥é“¾è¡¨æ˜¯å¦ä¸€å®šæ˜¯å•é“¾è¡¨, å¯èƒ½æœ‰ç¯å— ç®€è¿° React çš„æ¸²æŸ“åŸç†, React.createElementå‡½æ•°çš„ä½œç”¨ å¦‚ä½•ç›‘æ§é¡µé¢æ€§èƒ½ å¦‚ä½•ç›‘æ§ js è„šæœ¬æ€§èƒ½, ä» Web ç«¯å’Œ Node ç«¯åˆ†åˆ«è®² ä»£ç é¢˜: æ‰‹å†™æ·±å…‹éš† forEachã€for...inã€for...ofã€å‘½ä»¤å¼ for å¾ªç¯, å››è€…çš„æ€§èƒ½æ¯”è¾ƒ ä½ å¹³æ—¶æ€æ ·å­¦ä¹ çš„ å‰ç«¯å¼€å‘è€…éœ€è¦æœ‰å“ªäº›è½¯å®åŠ›</p><p>äºŒé¢ è‡ªæˆ‘ä»‹ç», ä½ åšçš„é¡¹ç›®åŠ¨æœºæ˜¯ä»€ä¹ˆ, æ˜¯è‡ªå·±ä¸»åŠ¨åšçš„è¿˜æ˜¯ leader è¦æ±‚çš„ è®²è®²ä½ çŸ¥é“çš„ä¸»æµçš„å‰ç«¯é¡¹ç›®æ„å»ºå·¥å…· js åƒåœ¾å›æ”¶æœºåˆ¶ js ä¸­æ•°ç»„å’Œç±»æ•°ç»„çš„åŒºåˆ« ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« å‡½æ•°çš„argumentsè¡¨ç¤ºä»€ä¹ˆ, æ€ä¹ˆç”¨ ä»£ç é¢˜, ç»™ä¸€æ£µæ ‘å’Œä¸€ä¸ªå€¼, æ±‚ä»æ ‘æ ¹å¼€å§‹éå†åˆ°ç»™å®šå€¼çš„è·¯å¾„(åˆ†äºŒå‰æ ‘å’ŒDOMæ ‘ä¸¤ç§æƒ…å†µ)</p><p>æœ‰èµå‰ç«¯ä¸€é¢</p><ol><li>é¡¹ç›®è¯´ä¸€ä¸‹</li><li>ä¸ºä»€ä¹ˆç¦»èŒï¼Œä¸éª‘é©´æ‰¾é©¬</li><li>viteåšäº†å“ªäº›ä¼˜åŒ–</li><li>vite æ„å»ºæµç¨‹</li><li>webpacké‡Œé¢lessæ€ä¹ˆè½¬åŒ–ï¼Œless loaderæœ‰ä»€ä¹ˆç”¨</li><li>è¿˜ç”¨è¿‡ä»€ä¹ˆæ‰“åŒ…å·¥å…·å—</li><li>ç»„å†…æœ‰ä»€ä¹ˆæ˜¯ä½ ä¸»å¯¼åšçš„å—</li><li>ç»„ä»¶è®¾è®¡è¯´ä¸€ä¸‹</li><li>react hookè¯´ä¸€è¯´</li><li>ä¹‹å‰æ˜¯æ€ä¹ˆå­¦å‰ç«¯çš„</li><li>æ‰‹å†™ï¼šurlè§£æ</li><li>å¦‚æœurlå…¶ä¸­ä¸€äº›callbackæŠ¥é”™äº†æ€ä¹ˆæŠ›å‡ºæ¥</li><li>æ‰‹å†™ï¼š48ä½0æˆ–1ï¼Œè½¬åŒ–æˆæ—¶é—´æ®µ</li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/theme-docs/src/pages/interviewer/level2.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 1162279101@qq.com">jennymo</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/pages/interviewer/level1.html" class="nav-link prev" aria-label="åˆçº§é—®é¢˜ï¼ˆåŸºæœ¬ä½¿ç”¨ï¼‰"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><!---->åˆçº§é—®é¢˜ï¼ˆåŸºæœ¬ä½¿ç”¨ï¼‰</div></a><a href="/pages/interviewer/level3.html" class="nav-link next" aria-label="é«˜çº§é—®é¢˜ï¼ˆç†è®ºåŸç†ï¼‰"><div class="hint">Next<span class="arrow right"></span></div><div class="link">é«˜çº§é—®é¢˜ï¼ˆç†è®ºåŸç†ï¼‰<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright Â© 2022 Jenny</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.76aaae20.js" defer></script>
  </body>
</html>
